<forest>
    <template name="navbar">
        <static-expand source="nav">
            <ul static:iterate="pages">
                <a class="%%%code%%%" href="%%%nav:uri%%%"> [<static:lookup name="label" />] </a><br />
                <div static:guard:has_children:attr_that="only_present_with_children"></div>

                <div static:if="has_children">
                    <ul static:iterate="children">
                        ++ <a class="%%%code%%%" href="%%%nav:uri%%%"> [<static:lookup name="label" />] </a><br />
                    </ul>
                </div>
            </ul>
        </static-expand>
    </template>
    <common-page uri:prefix="/page/" static[nav]:var="current" static[nav]:code="%%%GENERATE%%%">

    </common-page>
    <static-object name="foo">
        {"key":"value"}
    </static-object>
    <page uri="/page/1" static[nav]:label="Page 1">

    </page>
    <page uri="/page/2" static[nav]:label="Page 2">

    </page>
    <page uri="/page/3" static[nav]:label="Page 3" static[nav]:code="major">

    </page>

    <page uri="/page/3/a" static[nav]:label="Part A" static[nav]:parent="major">

    </page>
</forest>